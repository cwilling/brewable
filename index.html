<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-dark.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <title>Brewable by cwilling</title>
  </head>

  <body>
    <div id="container">
      <div class="inner">

        <header>
          <h1>Brewable</h1>
          <h2>Raspberry  Pi based temperature controller</h2>
        </header>

        <section id="downloads" class="clearfix">
          <a href="https://github.com/cwilling/brewable/zipball/master" id="download-zip" class="button"><span>Download .zip</span></a>
          <a href="https://github.com/cwilling/brewable/tarball/master" id="download-tar-gz" class="button"><span>Download .tar.gz</span></a>
          <a href="https://github.com/cwilling/brewable" id="view-on-github" class="button"><span>View on GitHub</span></a>
        </section>

        <hr>

        <section id="main_content">
          <h3>
<a id="what-is-brewable" class="anchor" href="#what-is-brewable" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>What is brewable?</h3>

<p>Brewable is software for the Raspberry Pi, enabling it to read temperature information from directly connected sensors and programmatically activate relays to control heating and/or cooling equipment. A main point of difference to other similar software is that direct keyboard, mouse and screen access to the Raspberry Pi is not required to run the software; it is run remotely via a browser. This enables the Raspberry Pi and associated hardware (relays etc.) to be packaged into a box and tucked away somewhere safe without further need for physical access to it.</p>
The hardware involved is connected directly to the Raspberry Pi's GPIO
connectors, via which it is controlled using the brewable software. The brewable
controller software is normally run as a daemon program which is started
whenever the Raspberry Pi is booted up. A small web server is used to provide
a user interface to the controller so that a normal web browser on any machine
in the local network can access and manipulate the controller, thus control the
hardware. In this way, a user can create temperature/time profiles, any of
which can be used as the basis of a job template. Any number of job templates
can be created and any of these templates can be run as active job instances.
The brewable software is capable of running multiple job instances
simultaneously, limited only by the connected hardware available.

<p>
<h3>
<a id="hardware" class="anchor" href="#hardware" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Hardware</h3>
The purpose of the brewable software is to turn cooling (or heating) equipment
on or off in response to changes in temperature and time. The temperature sensors
used in this project are the very common
<a href="http://www.pakronics.com.au/products/waterproof-ds18b20-digital-temperature-sensor-dfdfr0198">DS18B20</a>
devices. By default, the Raspberry Pi system itself limits the number of these
sensors that can be used to 10, however that limit can be increased
(see the Notes section). The multiple sensors can be connected via a terminal
block which can also house the 4.7k ohm pull-up resistor. Jumper cables
connect the terminal block to the
<a href="https://www.raspberrypi.org/documentation/usage/gpio/">Raspberry Pi's GPIO pins</a>.
If you use jumper cables with the same colour as the sensor cable,
the red jumper is attached to pin number 1 (3.3V), the yellow jumper to pin 4
while the black (or blue) cable is connected to pin 15 (ground).
</p>
<p>Any external equipment to be switched is connected to the Raspberry Pi
via relays. Brewable supports the
<a href="http://www.sainsmart.com/4-channel-5v-relay-module-for-pic-arm-avr-dsp-arduino-msp430-ttl-logic.html">SainSmart 5V relay modules</a>,
although support for the
<a href="http://www.seeedstudio.com/depot/Raspberry-Pi-Relay-Board-v10-p-2409.html">Seeed Relay Board</a>
is well advanced and should be complete real soon now. While it is somewhat
more expensive, an advantage of the Seeed Relay Board is that it fits directly
onto the Raspberry Pi GPIO strip and no further interconnection is required.
The Sainsmart style of 4x relay boards are connected via jumper cables as
follows:
<br>&nbsp;&nbsp;&nbsp;&nbsp;Relay pin IN1 connects to GPIO pin 17
<br>&nbsp;&nbsp;&nbsp;&nbsp;Relay pin IN2 connects to GPIO pin 27
<br>&nbsp;&nbsp;&nbsp;&nbsp;Relay pin IN3 connects to GPIO pin 22
<br>&nbsp;&nbsp;&nbsp;&nbsp;Relay pin IN4 connects to GPIO pin 10

<br
At the moment the
software is restricted to devices with four relays but auto detection of the
number of attached relays is in the TODO queue.

<p>
<h3>
<a id="software-installation" class="anchor" href="#software-installation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Software Installation</h3>

<p>These instructions are based on a standard Raspbian based system, although other systems should work without great effort since nothing esoteric is required to install and run the software. It is assumed you have a Raspberry Pi up and running, including wired or wireless networking. It is highly recommended that the Raspberry Pi uses a static IP address or that its DHCP server (probably your modem/router) is configured to always allocate the same IP address to the Raspberry Pi. Make a note of the IP address.</p>
<p>Since Raspbian enables the ssh server by default, the installation itself can be performed
either remotely, using any ssh client program (e.g. 'ssh' on Linux & Mac, Putty on Windows), or directly
on the Raspberry Pi using keyboard, mouse & display if they're still connected. If installing remotely,
connect with ssh or putty to the Raspberry Pi at its previously noted IP address. If installing directly,
open a Terminal window. In either case, run the following commands:
<br>&nbsp;&nbsp;&nbsp;&nbsp;<code>sudo apt-get install -y python-tornado</code>
<br>&nbsp;&nbsp;&nbsp;&nbsp;<code>wget https://github.com/cwilling/brewable/archive/0.1.tar.gz</code>
<br>&nbsp;&nbsp;&nbsp;&nbsp;<code>tar xf 0.1.tar.gz</code>
<br>&nbsp;&nbsp;&nbsp;&nbsp;<code>cd brewable-0.1</code>
<br>&nbsp;&nbsp;&nbsp;&nbsp;<code>sudo make install</code>
<br>&nbsp;&nbsp;&nbsp;&nbsp;<code>sudo ./postinst configure</code>
<br>Now reboot the Raspberry Pi; this is necessary to enable the GPIO
pins, as well as to start the brewable server. The software is started
automatically whenever the Raspberry Pi boots up so there's generally no
need to start it manually.
<br>If you need to stop the brewable software while the Raspberry Pi stays running, run the command:
<br>&nbsp;&nbsp;&nbsp;&nbsp;<code>sudo /etc/init.d/brewable stop</code>
<br>or to restart, run the command:
<br>&nbsp;&nbsp;&nbsp;&nbsp;<code>sudo /etc/init.d/brewable restart</code>
</p>

See also:
<h3>
<a id="usage" class="anchor" href="p2.html"><span aria-hidden="true" class="octicon octicon-link"></span>Usage, General Notes</a></h3>

        </section>

        <footer>
          Brewable is maintained by <a href="https://github.com/cwilling">cwilling</a><br>
          This page was generated by <a href="https://pages.github.com">GitHub Pages</a>. Tactile theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.
        </footer>

        
      </div>
    </div>
  </body>
</html>
